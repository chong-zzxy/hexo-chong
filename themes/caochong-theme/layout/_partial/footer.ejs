<footer class="footer">
  <div class="footer-container">
    <div class="footer-content">
      <div class="footer-info">
        <p><%= theme.footer.copyright %></p>
        <% if (theme.footer.icp) { %>
          <p><a href="https://beian.miit.gov.cn/" target="_blank" rel="noopener"><%= theme.footer.icp %></a></p>
        <% } %>
      </div>

      <div class="footer-social">
        <% for (let name in theme.social) { %>
          <a href="<%= theme.social[name] %>"
             target="_blank"
             rel="noopener noreferrer"
             aria-label="<%= name %>"
             class="social-link">
            <%= name %>
          </a>
        <% } %>
      </div>
    </div>

    <div class="footer-powered">
      <p>
        Powered by <a href="https://hexo.io" target="_blank" rel="noopener">Hexo</a>
        | Theme by <a href="https://github.com/chong-zzxy" target="_blank" rel="noopener">Caochong</a>
      </p>
    </div>

    <!-- è®¿é—®ç»Ÿè®¡ -->
    <% if (theme.busuanzi && theme.busuanzi.enable) { %>
      <div class="footer-stats" id="site-stats">
        <span id="busuanzi_container_site_pv" style="display:none">
          ğŸ‘€ æœ¬ç«™è®¿é—®é‡ <span id="busuanzi_value_site_pv"></span> æ¬¡
        </span>
        <span class="stats-separator" style="display:none"> | </span>
        <span id="busuanzi_container_site_uv" style="display:none">
          ğŸ‘¤ è®¿å®¢æ•° <span id="busuanzi_value_site_uv"></span> äºº
        </span>
        <span id="stats-loading" style="color: var(--text-secondary); font-size: 0.85rem;">
          ğŸ“Š æ­£åœ¨åŠ è½½è®¿é—®ç»Ÿè®¡...
        </span>
      </div>
      <script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
      <script>
        // ç›‘å¬ä¸è’œå­åŠ è½½å®Œæˆ
        window.addEventListener('load', function() {
          setTimeout(function() {
            var pv = document.getElementById('busuanzi_container_site_pv');
            var uv = document.getElementById('busuanzi_container_site_uv');
            var loading = document.getElementById('stats-loading');

            if (pv && pv.style.display === 'none' && document.getElementById('busuanzi_value_site_pv').textContent) {
              pv.style.display = 'inline-block';
              document.querySelector('.stats-separator').style.display = 'inline-block';
              uv.style.display = 'inline-block';
              if (loading) loading.style.display = 'none';
            }
          }, 1000);

          // å¦‚æœ 3 ç§’åè¿˜æ²¡åŠ è½½ï¼Œæ˜¾ç¤ºæç¤º
          setTimeout(function() {
            var loading = document.getElementById('stats-loading');
            var pv = document.getElementById('busuanzi_container_site_pv');
            if (loading && pv && pv.style.display === 'none') {
              loading.textContent = 'ğŸ“Š è®¿é—®ç»Ÿè®¡ï¼ˆåŠ è½½ä¸­...ï¼‰';
            }
          }, 3000);
        });
      </script>
    <% } %>
  </div>
</footer>
