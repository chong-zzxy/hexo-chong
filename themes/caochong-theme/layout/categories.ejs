<!-- åˆ†ç±»ç´¢å¼•é¡µ -->
<div class="categories-container">
  <!-- é¡µé¢å¤´éƒ¨ -->
  <div class="categories-header">
    <h1 class="categories-title">
      <span class="title-text">æ–‡ç« åˆ†ç±»</span>
      <span class="title-subtitle">Categories</span>
    </h1>
    <p class="categories-description">
      å…± <%= site.categories.length %> ä¸ªåˆ†ç±»ï¼Œ<%= site.posts.length %> ç¯‡æ–‡ç« 
    </p>
  </div>

  <!-- åˆ†ç±»ç½‘æ ¼ -->
  <div class="categories-grid-page">
    <%
      site.categories.sort('name').each(function(category) {
        var icon = 'ðŸ“';
        if (category.name.includes('CV') || category.name.includes('è§†è§‰')) icon = 'ðŸ‘ï¸';
        else if (category.name.includes('NLP') || category.name.includes('è¯­è¨€')) icon = 'ðŸ’¬';
        else if (category.name.includes('Python') || category.name.includes('ç¼–ç¨‹')) icon = 'ðŸ’»';
        else if (category.name.includes('Life') || category.name.includes('ç”Ÿæ´»')) icon = 'ðŸŒ±';
    %>
      <article class="category-card-page">
        <a href="<%= url_for(category.path) %>" class="category-link-page">
          <!-- åˆ†ç±»å›¾æ ‡ -->
          <div class="category-icon-page"><%= icon %></div>

          <!-- åˆ†ç±»ä¿¡æ¯ -->
          <div class="category-info-page">
            <h2 class="category-name-page"><%= category.name %></h2>
            <p class="category-count-page"><%= category.length %> ç¯‡æ–‡ç« </p>
          </div>

          <!-- ç®­å¤´ -->
          <svg class="category-arrow-page" viewBox="0 0 24 24" width="32" height="32">
            <path fill="currentColor" d="M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"/>
          </svg>

          <!-- æœ€æ–°æ–‡ç« é¢„è§ˆ -->
          <%
            var latestPosts = category.posts.sort('date', -1).limit(3);
          %>
          <% if (latestPosts.length > 0) { %>
            <div class="category-preview-page">
              <div class="preview-label">æœ€æ–°æ–‡ç« </div>
              <ul class="preview-list">
                <% latestPosts.each(function(post) { %>
                  <li class="preview-item">
                    <span class="preview-dot">â€¢</span>
                    <%= post.title %>
                  </li>
                <% }); %>
              </ul>
            </div>
          <% } %>
        </a>
      </article>
    <% }); %>
  </div>
</div>
